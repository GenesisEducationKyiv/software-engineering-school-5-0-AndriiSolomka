# ADR-003: Choosing the Main Database

**Status:** Accepted  
**Date:** 2025-06-08  
**Author:** Andrii Solomka

---

## Context

We needed to choose a database for storing users, subscriptions, notification history, and weather cache. PostgreSQL, MongoDB, and SQLite were considered.

---

## Considered Options

1. **PostgreSQL**  
   - **Pros:**  
     - ACID transactions, reliability  
     - Powerful query capabilities  
     - Ready for production workloads  
   - **Cons:**  
     - More complex setup compared to SQLite

2. **MongoDB**  
   - **Pros:**  
     - Flexible schema, easy JSON handling  
   - **Cons:**  
     - Eventual consistency, more complex migrations

3. **SQLite**  
   - **Pros:**  
     - Simple setup  
   - **Cons:**  
     - Not suitable for production and multi-user scenarios

---

## Decision

**PostgreSQL** was chosen as the main database. The decision was based on its reliability, strong consistency, powerful query capabilities, and readiness for production workloads. While MongoDB and SQLite have their advantages, PostgreSQL best fits the requirements for data integrity and scalability.

---

## Consequences

**Positive:**  
- Data reliability and consistency  
- Powerful query capabilities  
- JSON support for weather_data  
- Ready for production workloads

**Negative:**  
- More complex Docker setup  
- Need for a migration system

---