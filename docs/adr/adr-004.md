# ADR-004: Choosing the Weather Data Caching Solution

**Status:** Accepted  
**Date:** 2025-06-08  
**Author:** Andrii Solomka

---

## Context

We needed to quickly cache weather data to reduce load on external APIs and speed up user responses.

---

## Considered Options

1. **Redis**  
   - **Pros:**  
     - Very fast in-memory cache  
     - TTL support, easy integration  
     - Pub/sub support for future extensions  
   - **Cons:**  
     - Requires a separate service

2. **Caching in PostgreSQL**  
   - **Pros:**  
     - No need for a separate service  
   - **Cons:**  
     - Slower, adds load to the main DB

3. **In-app memory cache**  
   - **Pros:**  
     - Simple  
   - **Cons:**  
     - Not suitable for scaling, cache lost on restart

---

## Decision

**Redis** was chosen for weather data caching. The decision was based on its high performance, support for TTL, and readiness for horizontal scaling, which are essential for handling frequent weather data requests efficiently.

---

## Consequences

**Positive:**  
- Reduced latency for weather data retrieval  
- Lower load on external APIs  
- Ready for horizontal scaling

**Negative:**  
- Requires a separate service  
- Additional infrastructure costs

---